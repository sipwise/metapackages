{
  "comments": [
    {
      "key": {
        "uuid": "fae47921_464eb2c2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-15T10:24:19Z",
      "side": 1,
      "message": "Actually we did. firmware-bnx2, firmware-bnx2x were added to /etc/debootstrap/packages so were installed during the debootstrap on all types on ngcp. Then this code was moved from deployment-iso to metapackages https://gerrit.mgm.sipwise.com/#/c/21970/",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae47921_0631ca0b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-08-16T09:21:56Z",
      "side": 1,
      "message": "Mika, can we add non-free to Amazon EC2 then?\nP.S. we will improve installer to handle sources.lists internally before running apt commands, so far for mr6.4.1 I would go AS IS adding nonfree to CE on Amazon EC2.",
      "parentUuid": "fae47921_464eb2c2",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae47921_c63aa2e7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-08-16T09:23:33Z",
      "side": 1,
      "message": "For sure the second way here is to stop officially shipping firmware-bnx2, firmware-bnx2x on CE. OR ask users during the installation using InstallCD... more ideas?\n\nJFYI, mr6.4.1 release is currently blocked :-(",
      "parentUuid": "fae47921_0631ca0b",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae47921_6609b631",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2018-08-16T10:00:45Z",
      "side": 1,
      "message": "\u003e For sure the second way here is to stop officially shipping\n \u003e firmware-bnx2, firmware-bnx2x on CE.\n\nIMO it\u0027s easier to just not ship it to CE users, we also didn\u0027t ship it CE users in the past.\n\nBreaking the problem down, the underlying question is, what environments are supposed to work out-of-the-box? There might be even further firmware packages needed, we cared only about firmware-bnx* because that\u0027s what is/was usually needed on our physical servers.\n\nRegarding hardware support we could look into something like https://packages.debian.org/stretch/isenkram-cli to identify packages that should be present/installed.\n\n \u003e OR ask users during the\n \u003e installation using InstallCD... more ideas?\n\nThat sucks IMO :) We could point them towards it, we could also ask them to enable non-free, though IMO it\u0027s for sure annoying to strictly depend on firmware-bnx* if it\u0027s not even needed.\n\n \u003e JFYI, mr6.4.1 release is currently blocked :-(\n\nACK",
      "parentUuid": "fae47921_c63aa2e7",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae47921_262cceaa",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2018-08-16T10:00:45Z",
      "side": 1,
      "message": "\u003e Mika, can we add non-free to Amazon EC2 then?\n\nWe can do pretty much everything ;)\nBut users without non-free in their sources.list will also get failures since it\u0027s now a dependency in our packages (instead of installing it just ourselves where relevant for us), so I\u0027m not sure that\u0027s enough?\n\n \u003e P.S. we will improve installer to handle sources.lists internally\n \u003e before running apt commands, so far for mr6.4.1 I would go AS IS\n \u003e adding nonfree to CE on Amazon EC2.\n\nFine for me. We\u0027re fine with that it will fail for pretty much all users of plain debian-installer?",
      "parentUuid": "fae47921_0631ca0b",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae47921_4606b221",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2018-08-16T10:00:45Z",
      "side": 1,
      "message": "\u003e Actually we did. firmware-bnx2, firmware-bnx2x were added to\n \u003e /etc/debootstrap/packages so were installed during the debootstrap\n \u003e on all types on ngcp. Then this code was moved from deployment-iso\n \u003e to metapackages https://gerrit.mgm.sipwise.com/#/c/21970/\n\nI\u0027m aware that this was handled via /etc/debootstrap/packages. Though AFAICT CE users newer  ran/run our deployment.sh and EC2 AMIs also don\u0027t (and didn\u0027t) run it either, so AFAICT it wasn\u0027t shipped to users (except for maybe Vagrant boxes, where it\u0027s not even relevant).",
      "parentUuid": "fae47921_464eb2c2",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae47921_6110804f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2018-08-16T10:06:44Z",
      "side": 1,
      "message": "\u003e Though AFAICT CE users newer  ran/run our deployment.sh\n\nBut what about cd image? It runs deployment.sh for all types of installation.",
      "parentUuid": "fae47921_4606b221",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae47921_41345cdd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2018-08-16T10:17:03Z",
      "side": 1,
      "message": "Correct. So far from the spce@ reported experience, the most often case is to wget ngcp-installer \u0026\u0026 dpkg -i \u0026\u0026 ngcp-installer on pre-installed Debian.\n\nThis is one of the reason why I started moving all the installer related parts from deployment.sh to ngcp-installer.\n\nI would say some CE users will have firmware installed.\nWhile new one will not receive them.",
      "parentUuid": "fae47921_6110804f",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae47921_a15b082e",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2018-08-16T10:24:43Z",
      "side": 1,
      "message": "ACK, I think it\u0027s an acceptable solution for the time being. The users might not have the relevant firmware anyway (since it\u0027s part of another firmware-* package), so IMO we should address this more globally. The release notes could mention a note about this change though (and clarify how to address this via enabling non-free and installing the according firmware-packages, esp. firmware-bnx*).",
      "parentUuid": "fae47921_41345cdd",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 4
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fae47921_0182d452",
        "filename": "debian/control",
        "patchSetId": 1
      },
      "lineNbr": 565,
      "author": {
        "id": 1000018
      },
      "writtenOn": "2018-08-16T11:12:55Z",
      "side": 1,
      "message": "Just 5cents all system that I saw have tg3 driver in use (except non supported UPCAT/UPCRO). So I think we do not need this package.",
      "range": {
        "startLine": 564,
        "startChar": 0,
        "endLine": 565,
        "endChar": 16
      },
      "revId": "45b635fe0b9435f8adc7fd16a8b936d43e1ae6ae",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}